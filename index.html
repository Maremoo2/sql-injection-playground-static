<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SQL Injection Playground — simulated (safe)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="container slim">
    <h1>SQL Injection Playground — simulated (safe)</h1>
    <p class="warning small">Safe, client-side demo — no server required.</p>

    <section class="forms">
      <form id="demo-form" onsubmit="return false;">
        <label>
          Username
          <div class="input-with-indicator">
            <input id="username" placeholder="e.g. alice" />
            <span id="username-indicator" class="field-indicator" aria-hidden="true"></span>
          </div>
        </label>

        <label>
          Password
          <div class="input-with-indicator">
            <input id="password" placeholder="e.g. wonderland" />
            <span id="password-indicator" class="field-indicator" aria-hidden="true"></span>
          </div>
        </label>

        <div class="buttons">
          <button id="try-vuln" type="button">Old (vulnerable)</button>
          <button id="try-safe" type="button">New (safe)</button>
          <button id="share-demo" type="button" class="share-btn">Share Demo</button>
        </div>

        <div id="share-message" class="share-message" style="display:none;"></div>

        <div class="info-row">
          <details class="info-small">
            <summary>About this demo</summary>
            <p>Client-side simulation that shows how unsafe string concatenation can let user input change SQL logic. Safe to share.</p>
          </details>

          <details class="info-small">
            <summary>How to use</summary>
            <p>Try a normal credential (alice/wonderland) or an always-true expression (e.g. <code>2+2=4</code>) as password and click <em>Try Vulnerable</em>.</p>
          </details>
        </div>

        <div class="quick-links">
          <h3>Quick Try Links</h3>
          <p class="panel-explain">Click any of these links to try common SQL injection patterns:</p>
          <ul>
            <li><a href="?username=alice&password=wonderland&run=1" class="demo-link">Normal login (alice/wonderland)</a></li>
            <li><a href="?username=alice&password=%27%20OR%20%271%27%3D%271&run=1" class="demo-link">Classic injection (' OR '1'='1)</a></li>
            <li><a href="?username=whatever&password=2%2B2%3D4&run=1" class="demo-link">Math expression bypass (2+2=4)</a></li>
            <li><a href="?username=bob&password=1%3D1&run=1" class="demo-link">Always-true expression (1=1)</a></li>
          </ul>
        </div>

      </form>

      <div class="results">
        <article>
          <h3>Vulnerable — constructed SQL (simulated)</h3>
          <p class="panel-explain">This shows the exact SQL text created by naively joining your inputs into the command — if input contains SQL-like expressions it can change what the query does. If the WHERE clause becomes always-true (for example entering <code>1+1=2</code>) the system may accept the login even without the real password.</p>
          <pre id="constructed-sql"></pre>
          <div id="vuln-result" class="result-box"></div>
        </article>

        <article>
          <h3>Safe — parameterized behaviour</h3>
          <p class="panel-explain">This shows how parameterized queries keep your input separate from the SQL itself — the database treats the input only as data, not as part of the command.</p>
          <pre id="safe-info">SELECT id, username FROM users WHERE username = ? AND password = ?;</pre>
          <div id="safe-result" class="result-box"></div>
        </article>

        <article>
          <details class="advanced" open>
            <summary>Learn more — real incidents & further reading</summary>
            <p class="panel-explain">Read short, trustworthy writeups and advisories about real SQL injection incidents and practical guidance.</p>
            <ul>
              <li><a href="https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/05-Testing_for_SQL_Injection" target="_blank" rel="noopener">OWASP — SQL Injection</a> — primer on the vulnerability and defenses (prepared statements, testing).</li>
              <li><a href="https://portswigger.net/web-security/sql-injection/lab-login-bypass" target="_blank" rel="noopener">PortSwigger — Login bypass lab</a> — hands-on labs that mirror the bypass patterns shown here.</li>
              <li><a href="https://www.cisa.gov/news-events/cybersecurity-advisories/aa23-158a" target="_blank" rel="noopener">CISA advisory — MOVEit/CL0P</a> — advisory describing a high-impact exploitation campaign involving injection vectors.</li>
              <li><a href="https://ico.org.uk" target="_blank" rel="noopener">UK ICO — TalkTalk (search)</a> — regulatory writeups and summaries of the 2015 TalkTalk breach.</li>
              <li><a href="https://www.philadelphiafed.org/-/media/frbp/assets/consumer-finance/discussion-papers/d-2010-january-heartland-payment-systems.pdf" target="_blank" rel="noopener">Heartland analysis (PDF)</a> — academic/forensic-style analysis of a historic card-data breach.</li>
            </ul>
            <p class="panel-explain">These links point to reputable sources (OWASP, PortSwigger, CISA). Use them when explaining why parameterized queries and input validation matter.</p>
          </details>
        </article>
      </div>
    </section>
    
  </main>

  <script src="script.js"></script>
</body>
</html>
